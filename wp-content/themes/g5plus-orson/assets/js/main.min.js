var G5Plus=G5Plus||{};(function(a){'use strict';var b=a(window),c=a('body'),d=c.hasClass('rtl'),f=navigator.userAgent.toLowerCase(),g=f.match(/(iphone|ipod|android|iemobile)/),h=f.match(/(iphone|ipod|ipad|android|iemobile)/),i=f.match(/(iphone|ipod|ipad)/),j=f.match(/(iemobile)/);G5Plus.common={init:function(){this.retinaLogo(),this.owlCarousel(),this.lightGallery(),this.tooltip(),this.counterUp(),this.canvasSidebar(),this.verticalProgressbar(),setTimeout(G5Plus.common.owlCarouselRefresh,1e3),setTimeout(G5Plus.common.owlCarouselCenter,1e3),setTimeout(G5Plus.common.owlCarouselCenter,2e3),this.initVCTab(),this.adminBarProcess()},windowResized:function(){this.canvasSidebar(),this.adminBarProcess(),setTimeout(G5Plus.common.owlCarouselRefresh,1e3),setTimeout(G5Plus.common.owlCarouselCenter,1e3)},windowScroll:function(){this.canvasSidebar()},owlCarousel:function(){a('.owl-carousel:not(.manual):not(.owl-loaded)').each(function(){var k=a(this),l={items:3,nav:!1,navText:['<i class="fa fa-arrow-left"></i> '+g5plus_framework_constant.owl_prev,g5plus_framework_constant.owl_next+' <i class="fa fa-arrow-right"></i>'],dots:!0,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:d,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,autoplayHoverPause:!0},m=a.extend({},l,k.data('owl-config'));k.parent().parent().hasClass('product-split-screen')&&(m=a.extend({},m,{responsive:{0:{items:1},480:{items:2},768:{items:1},800:{items:2},1200:{items:3}}})),k.imagesLoaded({background:!0},function(){k.owlCarousel(m)}),k.on('changed.owl.carousel',function(){var o=a('.archive-masonry .blog-wrap');setTimeout(function(){o.isotope('layout')},500)})})},owlCarouselRefresh:function(){a('.owl-carousel.owl-loaded').each(function(){var k=a(this),l=k.data('owl.carousel');if('undefined'!=typeof l&&l.options.autoHeight){var m=0;a('.owl-item.active',k).each(function(){a(this).outerHeight()>m&&(m=a(this).outerHeight())}),a('.owl-height',k).css('height',m+'px')}})},owlCarouselCenter:function(){a('.product-listing > .owl-nav-center').each(function(){var k=a(this);k.imagesLoaded({background:!0},function(){var l=a('img',k).height()/2;window.matchMedia('(min-width: 1350px)').matches?a('.owl-nav > div',k).css('top',l+'px'):a('.owl-nav > div',k).css('top','')})})},lightGallery:function(){a('[data-rel=\'lightGallery\']').each(function(){var k=a(this),l=a(this).parent().parent().parent(),m=k.data('gallery-id'),n='';k.on('click',function(o){o.preventDefault();var p=[];a('[data-gallery-id="'+m+'"]',l).each(function(){var q=a(this).attr('href'),r=a(this).data('thumb-src');-1==n.indexOf(q)&&(p.push({src:q,thumb:r}),n+='|'+q)}),k.lightGallery({hash:!1,dynamic:!0,dynamicEl:p,thumbWidth:80})})}),a('a.view-video').on('click',function(k){k.preventDefault();var l=a(this).attr('data-src');a(this).lightGallery({dynamic:!0,dynamicEl:[{src:l,thumb:'',subHtml:''}]})})},isDesktop:function(){var k=991,l=a('.x-nav-menu');return 0<l.length&&'undefined'!=typeof l.attr('responsive-breakpoint')&&!isNaN(parseInt(l.attr('responsive-breakpoint'),10))&&(k=parseInt(l.attr('responsive-breakpoint'),10)),window.matchMedia('(min-width: '+(k+1)+'px)').matches},tooltip:function(){a().tooltip&&!h&&(!c.hasClass('woocommerce-compare-page')&&a('[data-toggle="tooltip"]').tooltip(),a('.yith-wcwl-wishlistexistsbrowse,.yith-wcwl-add-button,.yith-wcwl-wishlistaddedbrowse','.product-actions').each(function(){var k=a('a',a(this)).text().trim();a(this).tooltip({title:k})}),a('.compare','.product-actions').each(function(){var k=a(this).text().trim();a(this).tooltip({title:k})}))},counterUp:function(){a('.counter').each(function(){var k=a(this),m=a.extend({},{delay:10,time:1e3},k.data('counter-config'));k.counterUp(m)})},canvasSidebar:function(){var k=a('.sidebar-mobile-canvas');if('undefined'!=typeof k){a('body').find('#wrapper').next().hasClass('overlay-canvas-sidebar')||a('#wrapper').after('<div class="overlay-canvas-sidebar"></div>');var l=a('#wpadminbar').height();G5Plus.common.isDesktop()?(k.css('overflow-y','hidden'),k.css('height','auto'),k.scrollTop(0),a.isFunction(a.fn.perfectScrollbar)&&k.perfectScrollbar('destroy'),k.removeAttr('style')):(k.css('margin-top',l+'px'),k.css('height',a(window).height()+'px'),k.css('overflow-y','auto'),'fixed'!=a('#wpadminbar').css('position')&&a(window).scrollTop()>=l&&k.css('margin-top','0px'),a.isFunction(a.fn.perfectScrollbar)&&k.perfectScrollbar()),a('.sidebar-mobile-canvas-icon').on('click',function(){var m=a(this).parent().children('.sidebar-mobile-canvas');a(this).addClass('changed'),m.addClass('changed'),a('.overlay-canvas-sidebar').addClass('changed')}),a('.sidebar-mobile-canvas-icon-close').on('click',function(){a(this).parent().prev('.sidebar-mobile-canvas-icon').removeClass('changed'),a(this).parent().removeClass('changed'),a('.overlay-canvas-sidebar').removeClass('changed')}),a('.overlay-canvas-sidebar').on('click',function(){a('.sidebar-mobile-canvas-icon').hasClass('changed')&&a('.sidebar-mobile-canvas-icon-close').click()})}},verticalProgressbar:function(){'undefined'!=typeof a.fn.waypoint&&a('.v-progress-bar').waypoint(function(){a(this).find('.vc_single_bar').each(function(k){var l=a(this),m=l.find('.vc_bar'),n=m.data('percentage-value');setTimeout(function(){m.css({height:n+'%'})},200*k)})},{offset:'85%'})},initVCTab:function(){var k=0;a('a','.vc_tta-tabs ul.vc_tta-tabs-list').off('click').each(function(){a(this).on('click',function(l){if(k=a(this).parent().hasClass('vc_active')?1:0,l.preventDefault(),1==k)return!1;k=1;var m=a(this).parent().parent(),n=a(a(this).attr('href'),'.vc_tta-panels-container'),o='',p='';return'undefined'!=typeof m&&(a('li',m).removeClass('vc_active'),a(this).parent().addClass('vc_active'),a('li a',m).each(function(){o=a(this).attr('href'),0<a(o+'.vc_active','.vc_tta-panels-container').length&&(p=a(o+'.vc_active','.vc_tta-panels-container'))}),p.fadeOut(400,function(){p.removeClass('vc_active'),p.fadeIn(),n.fadeIn(0,function(){n.addClass('vc_active'),k=0})})),a(this).on('click'),!1})})},adminBarProcess:function(){window.matchMedia('(max-width: 600px)').matches?a('#wpadminbar').css('top','-46px'):a('#wpadminbar').css('top','')},retinaLogo:function(){(window.matchMedia('only screen and (min--moz-device-pixel-ratio: 1.5)').matches||window.matchMedia('only screen and (-o-min-device-pixel-ratio: 3/2)').matches||window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 1.5)').matches||window.matchMedia('only screen and (min-device-pixel-ratio: 1.5)').matches)&&a('img[data-retina]').each(function(){a(this).attr('src',a(this).attr('data-retina'))})}},G5Plus.page={init:function(){this.parallax(),this.parallaxDisable(),this.pageTitle(),this.button(),this.footerParallax(),this.footerWidgetCollapse(),this.events(),this.page404(),this.pageTransition(),this.backToTop()},events:function(){a(document).on('vc-full-width-row',function(){c.hasClass('boxed')&&G5Plus.page.fullWidthRow(),d&&G5Plus.page.fullWidthRowRTL(),a('.owl-carousel.owl-loaded',a('[data-vc-full-width="true"]')).each(function(){a(this).data('owl.carousel').onResize()})})},windowLoad:function(){this.fadePageIn()},windowResized:function(){this.parallaxDisable(),this.pageTitle(),this.button(),this.footerParallax(),this.footerWidgetCollapse(),this.wpb_image_grid(),this.page404()},parallax:function(){a.stellar({horizontalScrolling:!1,scrollProperty:'scroll',positionProperty:'position',responsive:!1})},parallaxDisable:function(){G5Plus.common.isDesktop()?a('.parallax').removeClass('parallax-disabled'):a('.parallax').addClass('parallax-disabled')},pageTitle:function(){var k=a('.page-title-layout-normal'),l=a('.container',k),m=a('h1',k),n=a('.breadcrumbs',k);k.removeClass('left'),m.width()+n.width()>l.width()&&k.addClass('left')},button:function(){a('.btn.btn-block.btn-icon,.mc-style4 .btn.btn-icon').each(function(){var k=a(this).width()-a('i',a(this)).width()-parseInt(a('i',a(this)).css('margin-left').replace('px',''),10)-parseInt(a('i',a(this)).css('margin-right').replace('px',''),10);a('span',a(this)).css({width:k+'px'}),a(this).height()>a('span',a(this)).height()&&a('span',a(this)).css({width:k-1+'px'})})},footerParallax:function(){window.matchMedia('(max-width: 767px)').matches?c.css('margin-bottom',''):setTimeout(function(){var k=a('footer.main-footer-wrapper');if(k.hasClass('enable-parallax')){var l=0<a('header.main-header .sticky-wrapper').length?55:0,m=a('#wpadminbar'),n=0<m.length?m.outerHeight():0;b.height()>=k.outerHeight()+l+n?(c.css('margin-bottom',k.outerHeight()+'px'),k.removeClass('static')):(c.css('margin-bottom',''),k.addClass('static'))}},100)},footerWidgetCollapse:function(){window.matchMedia('(max-width: 767px)').matches?a('footer.footer-collapse-able aside.widget').each(function(){var k=a('h4.widget-title',this),l=k.next();k.addClass('title-collapse'),null!=l&&'undefined'!=typeof l&&l.hide(),k.off(),k.on('click',function(){var m=a(this).next();a(this).hasClass('title-expanded')?(a(this).removeClass('title-expanded'),k.addClass('title-collapse'),m.slideUp()):(a(this).addClass('title-expanded'),k.removeClass('title-collapse'),m.slideDown())})}):a('footer aside.widget').each(function(){var k=a('h4.widget-title',this);k.off();var l=k.next();k.removeClass('collapse'),k.removeClass('expanded'),l.show()})},fullWidthRow:function(){a('[data-vc-full-width="true"]').each(function(){var k=a(this),l=a('#wrapper');if(k.addClass('vc_hidden'),k.attr('style',''),!c.hasClass('has-sidebar')){var m=k.next('.vc_row-full-width');m.length||(m=k.parent().next('.vc_row-full-width'));var n=parseInt(k.css('margin-left'),10),o=parseInt(k.css('margin-right'),10),p=l.offset().left-m.offset().left-n,q=l.width();if(k.css({position:'relative',left:p,'box-sizing':'border-box',width:l.width()}),!k.data('vcStretchContent')){var r=-1*p;0>r&&(r=0);var s=q-r-m.width()+n+o;0>s&&(s=0),k.css({'padding-left':r+'px','padding-right':s+'px'})}}k.removeClass('vc_hidden')})},fullWidthRowRTL:function(){a('[data-vc-full-width="true"]').each(function(){var k=a(this).css('left');a(this).css({left:'auto',right:k})})},wpb_image_grid:function(){a('.wpb_gallery_slides.wpb_image_grid .wpb_image_grid_ul').each(function(){var l=a(this);setTimeout(function(){l.isotope('layout')},1e3)})},page404:function(){if(c.hasClass('error404')){var k=b.outerHeight(),l=0,m=null;m=G5Plus.common.isDesktop()?a('header.main-header'):a('header.header-mobile'),0==m.length||(l=k-m.offset().top-m.outerHeight()-a('body.error404 .content-wrap').outerHeight(),200>l&&(l=200),l/=2,a('body.error404 .page404').css('padding',l+'px 0'))}},pageTransition:function(){if(c.hasClass('page-transitions')){a('.animsition-link, a[href]:not([target="_blank"]):not([href^="#"]):not([href*="javascript"]):not([href*=".jpg"]):not([href*=".jpeg"]):not([href*=".gif"]):not([href*=".png"]):not([href*=".mov"]):not([href*=".swf"]):not([href*=".mp4"]):not([href*=".flv"]):not([href*=".avi"]):not([href*=".mp3"]):not([href^="mailto:"]):not([class*="no-animation"]):not([class*="prettyPhoto"]):not([class*="add_to_wishlist"]):not([class*="add_to_cart_button"]):not([class*="compare"])').on('click',function(l){if(0<a(l.target).closest(a('b.x-caret',this)).length)return void l.preventDefault();l.preventDefault();var m=a(this),n=m.attr('href');2===l.which||l.metaKey||l.shiftKey||-1!==navigator.platform.toUpperCase().indexOf('WIN')&&l.ctrlKey?window.open(n,'_blank'):G5Plus.page.fadePageOut(n)})}},fadePageIn:function(){if(c.hasClass('page-loading')){var l=a('.site-loading');l.css('opacity','0'),setTimeout(function(){l.css('display','none')},1e3)}},fadePageOut:function(k){a('.site-loading').css('display','block').animate({opacity:1,delay:200},600,'linear'),a('html,body').animate({scrollTop:'0px'},800),setTimeout(function(){window.location=k},600)},backToTop:function(){var k=a('.back-to-top');0<k.length&&(k.on('click',function(l){l.preventDefault(),a('html,body').animate({scrollTop:'0px'},800)}),b.on('scroll',function(){var m=b.scrollTop(),n=b.height()/2;m>n?k.addClass('in'):k.removeClass('in')}))}},G5Plus.blog={init:function(){this.masonryLayout(),setTimeout(this.masonryLayout,300),this.postMeta(),this.loadMore(),this.infiniteScroll(),this.commentReplyTitle()},windowResized:function(){this.postMeta()},postMeta:function(){a('article.post-large-image .entry-meta-wrap,article.post-medium-image .entry-meta-wrap,article.post-masonry .entry-meta-wrap').each(function(){var k=a(this),l=a('.read-more',k),m=a('.entry-post-meta',k);k.removeClass('left'),l.outerWidth()+m.outerWidth()+10>k.outerWidth()&&k.addClass('left')})},loadMore:function(){a('.paging-navigation').on('click','.blog-load-more',function(k){k.preventDefault();var l=a(this).button('loading'),m=a(this).attr('data-href'),n='.blog-wrap';a.get(m,function(p){var q=a('.blog-load-more',p).attr('data-href'),r=a('.blog-wrap article',p).css({opacity:0});a(n).append(r),r.imagesLoaded({background:!0},function(){G5Plus.common.owlCarousel(),G5Plus.blog.postMeta(),G5Plus.common.lightGallery(),r.animate({opacity:1}),a('.archive-wrap').hasClass('archive-masonry')&&(a(n).isotope('appended',r),setTimeout(function(){a(n).isotope('layout')},400))}),'undefined'==typeof q?l.parent().remove():(l.button('reset'),l.attr('data-href',q))})})},infiniteScroll:function(){var k=a('.blog-wrap');k.infinitescroll({navSelector:'#infinite_scroll_button',nextSelector:'#infinite_scroll_button a',itemSelector:'article',animate:!0,loading:{finishedMsg:'No more pages to load.',selector:'#infinite_scroll_loading',img:g5plus_app_variable.theme_url+'assets/images/ajax-loader.gif',msgText:'Loading...'}},function(l){var m=a(l).css({opacity:0});m.imagesLoaded({background:!0},function(){G5Plus.common.owlCarousel(),G5Plus.blog.postMeta(),G5Plus.common.lightGallery(),m.animate({opacity:1}),a('.archive-wrap').hasClass('archive-masonry')&&(k.isotope('appended',m),setTimeout(function(){k.isotope('layout')},400))})})},masonryLayout:function(){var k=a('.archive-masonry .blog-wrap');k.imagesLoaded({background:!0},function(){k.isotope({itemSelector:'article',layoutMode:'masonry',isOriginLeft:!d}),setTimeout(function(){k.isotope('layout')},500)})},commentReplyTitle:function(){var k=a('h3#reply-title');k.addClass('widget-title mg-top-40');var l=a('small',k);l.remove(),k.html('<span>'+k.text()+'</span> '),k.append(l)}},G5Plus.woocommerce={init:function(){this.setCartScrollBar(),this.addToWishlist(),c.hasClass('woocommerce-compare-page')||this.addToCart(),this.addCartQuantity(),this.quickView(),this.product_deal_width(),setTimeout(G5Plus.woocommerce.product_deal_width,500),setTimeout(G5Plus.woocommerce.product_deal_width,1e3),this.sale_countdown(),this.processWidgetTitle(),c.on('updated_shipping_method',G5Plus.woocommerce.processWidgetTitle),a(document).on('yith-wcan-ajax-filtered',G5Plus.common.tooltip),this.categoryName();var k=a('.single-product-image');this.singleProductImage(k)},windowResized:function(){setTimeout(function(){G5Plus.woocommerce.product_deal_width(),G5Plus.woocommerce.sale_countdown_width()},500),this.categoryName(),this.setCartScrollBar()},windowLoad:function(){this.setCartScrollBar()},setCartScrollBar:function(){setTimeout(function(){var k=a('#wpadminbar'),l=k.outerHeight(),m=a('.site-top').outerHeight(),n=a('.shopping-cart-wrapper').outerHeight(),o=b.height(),r=287,s='124px',t=3;o-l-m-n-40<417&&(r=200,s='100px',t=2),a('ul.cart_list.product_list_widget').css('max-height',r),a('ul.cart_list.product_list_widget').perfectScrollbar({wheelSpeed:0.5,suppressScrollX:!0}),a('ul.cart_list.product_list_widget').perfectScrollbar('update'),a('ul.cart_list.product_list_widget li').length>t&&a('ul.cart_list.product_list_widget .ps-scrollbar-y').css('height',s)},1e3)},addToWishlist:function(){a(document).on('click','.add_to_wishlist',function(){var k=a(this),l=k.parent().parent();if(!l.parent().hasClass('single-product-function')){k.addClass('added-spinner');var m=l.parent().parent().parent().parent();if('undefined'==typeof m)return;m.addClass('active')}}),c.on('added_to_wishlist',function(){var o=a('.added-spinner.add_to_wishlist'),p=o.parent().parent();if(!p.parent().hasClass('single-product-function')){var q=p.parent().parent().parent().parent();if('undefined'==typeof q)return;setTimeout(function(){q.removeClass('active'),o.removeClass('added-spinner')},700)}})},addToCart:function(){a(document).on('click','.add_to_cart_button',function(){var k=a(this);if(!k.hasClass('single_add_to_cart_button')&&k.is('.product_type_simple')){var l=k.parent().parent().parent().parent();if('undefined'==typeof l)return;l.addClass('active')}}),c.on('added_to_cart',function(k,l,m,n){G5Plus.woocommerce.setCartScrollBar();var o=n.hasClass('single_add_to_cart_button');if(!o){var q=n.parent().parent().parent().parent();setTimeout(function(){q.removeClass('active')},700)}})},singleProductImage:function(k){var l=k.find('.flex-control-thumbs');l.length&&(l.attr('hidden','hidden'),l.on('initialized.owl.carousel',function(){setTimeout(function(){l.removeAttr('hidden')},500)}).addClass('owl-carousel owl-theme').owlCarousel({nav:!1,dots:!1,rtl:d,items:4,margin:15}))},addCartQuantity:function(){a(document).off('click','.quantity .btn-number').on('click','.quantity .btn-number',function(k){k.preventDefault();var l=a(this).data('type'),m=a('input',a(this).parent()),n=parseFloat(m.val()),o=parseFloat(m.attr('max')),p=parseFloat(m.attr('min')),q=parseFloat(m.attr('step')),r=0;0<m.attr('step').indexOf('.')&&(r=m.attr('step').split('.')[1].length),isNaN(o)&&(o=100),isNaN(p)&&(p=0),isNaN(q)&&(q=1,r=0),isNaN(n)?m.val(p):('minus'==l&&(n>p&&(n=(n-q).toFixed(r),m.val(n).change()),parseFloat(m.val())<=p&&(m.val(p).change(),a(this).attr('disabled',!0))),'plus'==l&&(n<o&&(n=(n+q).toFixed(r),m.val(n).change()),parseFloat(m.val())>=o&&(m.val(o).change(),a(this).attr('disabled',!0))))}),a('input','.quantity').on('focusin',function(){a(this).data('oldValue',a(this).val())}),a('input','.quantity').on('change',function(){var k=a(this),l=parseFloat(k.attr('max')),m=parseFloat(k.attr('min')),n=parseFloat(k.val()),o=parseFloat(k.attr('step'));isNaN(l)&&(l=100),isNaN(m)&&(m=0),isNaN(o)&&(o=1);var p=a('.add_to_cart_button',a(this).parent().parent().parent());n>=m?(a('.btn-number[data-type=\'minus\']',a(this).parent()).removeAttr('disabled'),'undefined'!=typeof p&&p.attr('data-quantity',n)):(alert('Sorry, the minimum value was reached'),a(this).val(a(this).data('oldValue')),'undefined'!=typeof p&&p.attr('data-quantity',a(this).data('oldValue'))),n<=l?(a('.btn-number[data-type=\'plus\']',a(this).parent()).removeAttr('disabled'),'undefined'!=typeof p&&p.attr('data-quantity',n)):(alert('Sorry, the maximum value was reached'),a(this).val(a(this).data('oldValue')),'undefined'!=typeof p&&p.attr('data-quantity',a(this).data('oldValue')))})},processWidgetTitle:function(){a('.cart_totals > h2,.woocommerce-account .woocommerce h3,.woocommerce-account .woocommerce h2,.woocommerce-checkout .woocommerce h3,.woocommerce-checkout .woocommerce h2').each(function(){a(this).addClass('widget-title mg-bottom-30').html('<span>'+a(this).html().trim()+'</span>')})},quickView:function(){var k=!1;a(document).on('click','.product-quick-view',function(l){if(l.preventDefault(),!k){k=!0;var m=a(this).data('product_id'),n='#popup-product-quick-view-wrapper',o=a(this).find('i'),p=o.attr('class'),q=a(this).parent().parent().parent().parent(),r=a(this);q.addClass('active'),r.addClass('active'),o.attr('class','fa fa-spinner fa-pulse'),a.ajax({url:g5plus_app_variable.ajax_url,data:{action:'product_quick_view',id:m},success:function(s){q.removeClass('active'),r.removeClass('active'),o.attr('class',p),a(n).length&&a(n).remove(),a('body').append(s),G5Plus.woocommerce.addCartQuantity(),G5Plus.common.tooltip(),G5Plus.woocommerce.sale_countdown(),a(n).modal(),a(n).on('shown.bs.modal',function(){if('undefined'!=typeof a.fn.wc_product_gallery&&setTimeout(function(){var w=a('#popup-product-quick-view-wrapper');a('.woocommerce-product-gallery',w).wc_product_gallery(),G5Plus.woocommerce.singleProductImage(w)},200),'undefined'!=typeof a.fn.wc_variation_form){var u=a(n).find('.variations_form'),v=a(n).find('.variations_form .variations select');u.wc_variation_form(),u.trigger('check_variations'),v.change()}}),k=!1},error:function(){k=!1}})}})},sale_countdown:function(){function k(l,m){var n=parseInt(l.offset.seconds),o=parseInt(l.offset.minutes),p=parseInt(l.offset.hours),q=parseInt(l.offset.totalDays);10>q&&(q='0'+q),10>p&&(p='0'+p),10>o&&(o='0'+o),10>n&&(n='0'+n),a('.countdown-day',m).text(q),a('.countdown-hours',m).text(p),a('.countdown-minutes',m).text(o),a('.countdown-seconds',m).text(n)}a('.product-deal-countdown').each(function(){var l=a(this).data('date-end'),m=a(this);m.countdown(l,function(n){k(n,m)}).on('update.countdown',function(n){k(n,m)})}),G5Plus.woocommerce.sale_countdown_width()},sale_countdown_width:function(){a('.product-deal-countdown').each(function(){var k=0;a(this).removeClass('small'),a('.countdown-section',a(this)).each(function(){k+=a(this).outerWidth()+parseInt(a(this).css('margin-right').replace('px',''),10)}),k>a(this).outerWidth()&&a(this).addClass('small')})},categoryName:function(){a('.product-listing.woocommerce .product-category h3').each(function(){a(this).css('margin-bottom','-'+Math.floor(a(this).outerHeight()/2)+'px')})},product_deal_width:function(){function k(l){var m=!1;return a('.product-item-wrap',l).each(function(){var n=a('.product-thumb img',a(this)),o=a('.product-info',a(this));if(n.outerHeight()<o.outerHeight())return m=!0,!1}),m}a('.g5plus-product-deals').each(function(){var l=a(this);l.removeClass('product-item-vertical'),l.imagesLoaded({background:!0},function(){k(l)&&l.addClass('product-item-vertical')})})}},G5Plus.search={},G5Plus.header={timeOutSearch:null,xhrSearchAjax:null,init:function(){this.anchoPreventDefault(),this.topDrawerToggle(),this.switchMenu(),this.sticky(),this.menuCategories(),this.searchProduct(),this.searchButton(),this.closeButton(),this.searchAjaxButtonClick(),this.closestElement(),this.menuMobileToggle(),a('[data-search="ajax"]').each(function(){G5Plus.header.searchAjax(a(this))}),this.escKeyPress(),this.mobileNavOverlay(),this.perfectScroll()},windowsScroll:function(){this.sticky(),this.menuDropFlyPosition()},windowResized:function(){this.sticky(),this.menuDropFlyPosition()},windowLoad:function(){},topDrawerToggle:function(){a('.top-drawer-toggle').on('click',function(){a('.top-drawer-inner').slideToggle(),a('.top-drawer-wrapper').toggleClass('in')})},switchMenu:function(){a('header .menu-switch').on('click',function(){a('.header-nav-inner').toggleClass('in')})},menuCategories:function(){a('.menu-categories-select > i').on('click',function(){a('.menu-categories').toggleClass('in')})},sticky:function(){a('.sticky-wrapper').each(function(){var k=a(this),l=60;if(G5Plus.common.isDesktop()&&(l=55),a(document).outerHeight()-k.outerHeight()-k.offset().top<=b.outerHeight()-l)return k.removeClass('is-sticky'),void a('.sticky-region',k).css('top','');var m=0;a('#wpadminbar').length&&'fixed'==a('#wpadminbar').css('position')&&(m=a('#wpadminbar').outerHeight()),a('.demo_store').length&&'fixed'==a('.demo_store').css('position')&&(m+=a('.demo_store').outerHeight()),a(window).scrollTop()>k.offset().top-m?(k.addClass('is-sticky'),a('.sticky-region',k).css('top',m+'px')):(k.removeClass('is-sticky'),a('.sticky-region',k).css('top',''))})},searchProduct:function(){a('.search-product-wrapper .categories').each(function(){var k=a(this),l=k.parent();a('> span',k).on('click',function(){a('.search-category-dropdown',l).slideToggle(),a(this).toggleClass('in'),a('.search-ajax-result',l).html(''),a('input[type="text"]',l).val('')}),a('.search-category-dropdown span',k).on('click',function(){a('> span',k).html(a(this).html()),a('> span',k).attr('data-id',a(this).attr('data-id')),a('.search-category-dropdown',l).slideToggle(),a('> span',k).toggleClass('in')})})},searchButton:function(){var k=a('.header-customize-item.item-search > a, .mobile-search-button > a');if(k.length){var l=a('#search_popup_wrapper');if(l.length)if(k.hasClass('search-ajax'))k.on('click',function(){b.scrollTop(0),l.addClass('in'),a('body').addClass('overflow-hidden');var n=a('input[type="text"]',l);n.focus(),n.val('');var o=a('.search-ajax-result',l);o.html('')});else{var m=new DialogFx(l[0]);k.on('click',m.toggle.bind(m)),k.on('click',function(){var n=a('input[type="text"]',l);n.focus(),n.val('')})}}},searchAjax:function(k){a('input[type="text"]',k).on('keyup',function(l){if(!(l.altKey||l.ctrlKey||l.shiftKey||l.metaKey)){if(-1==['Control','Alt','Shift'].indexOf(l.key))switch(l.which){case 27:a('.search-ajax-result',k).html(''),k.removeClass('in'),a(this).val('');break;case 38:G5Plus.header.searchAjaxKeyUp(k),l.preventDefault();break;case 40:G5Plus.header.searchAjaxKeyDown(k),l.preventDefault();break;case 13:G5Plus.header.searchAjaxKeyEnter(k);break;default:clearTimeout(G5Plus.header.timeOutSearch),G5Plus.header.timeOutSearch=setTimeout(G5Plus.header.searchAjaxSearchProcess,500,k,!1);}}})},searchAjaxKeyUp:function(k){var l=a('.search-ajax-result li.selected',k);if(!(2>a('.search-ajax-result li',k).length)){var m=l.prev();l.removeClass('selected'),m.length?m.addClass('selected'):(a('.search-ajax-result li:last',k).addClass('selected'),m=a('.search-ajax-result li:last',k)),m.position().top<a('.ajax-search-result',k).scrollTop()?a('.ajax-search-result',k).scrollTop(m.position().top):m.position().top+m.outerHeight()>a('.ajax-search-result',k).scrollTop()+a('.ajax-search-result',k).height()&&a('.ajax-search-result',k).scrollTop(m.position().top-a('.ajax-search-result',k).height()+m.outerHeight())}},searchAjaxKeyDown:function(k){var l=a('.search-ajax-result li.selected',k);if(!(2>a('.search-ajax-result li',k).length)){var m=l.next();l.removeClass('selected'),m.length?m.addClass('selected'):(a('.search-ajax-result li:first',k).addClass('selected'),m=a('.search-ajax-result li:first',k)),m.position().top<a('.search-ajax-result',k).scrollTop()?a('.search-ajax-result',k).scrollTop(m.position().top):m.position().top+m.outerHeight()>a('.search-ajax-result',k).scrollTop()+a('.search-ajax-result',k).height()&&a('.search-ajax-result',k).scrollTop(m.position().top-a('.search-ajax-result',k).height()+m.outerHeight())}},searchAjaxKeyEnter:function(k){var l=a('.search-ajax-result li.selected a',k);0<l.length&&(window.location=l.attr('href'))},searchAjaxSearchProcess:function(k,l){var m=a('input[type="text"]',k).val();if(!l&&3>m.length)return void a('.search-ajax-result',k).html('');a('.search-button i',k).addClass('fa-spinner fa-spin'),a('.search-button i',k).removeClass('fa-search'),G5Plus.header.xhrSearchAjax&&G5Plus.header.xhrSearchAjax.abort();var n=k.attr('data-ajax-action'),o='action='+n+'&keyword='+m;a('.categories > span[data-id]',k)&&(o+='&cate_id='+a('.categories > span[data-id]',k).attr('data-id')),G5Plus.header.xhrSearchAjax=a.ajax({type:'POST',data:o,url:g5plus_app_variable.ajax_url,success:function(p){a('.search-button i',k).removeClass('fa-spinner fa-spin'),a('.search-button i',k).addClass('fa-search'),k.addClass('in'),a('.search-ajax-result',k).html(p)},error:function(p){p&&'abort'==p.statusText||(a('.search-button i',k).removeClass('fa-spinner fa-spin'),a('.search-button i',k).addClass('fa-search'))}})},searchAjaxButtonClick:function(){a('.search-button').on('click',function(){var k=a(a(this).attr('data-search-wrapper'));G5Plus.header.searchAjaxSearchProcess(k,!0)})},menuMobileToggle:function(){a('.toggle-icon-wrapper > .toggle-icon').on('click',function(){var k=a(this),l=k.parent(),m=l.attr('data-drop-type');l.toggleClass('in'),'menu-drop-fly'==m?a('body').toggleClass('mobile-nav-in'):a('.nav-menu-mobile').slideToggle()})},escKeyPress:function(){a(document).on('keyup',function(k){if(!(k.altKey||k.ctrlKey||k.shiftKey||k.metaKey)){-1!=['Control','Alt','Shift'].indexOf(k.key)||27==k.which&&a('#search_popup_wrapper').hasClass('in')&&(a('#search_popup_wrapper').removeClass('in'),setTimeout(function(){a('body').removeClass('overflow-hidden')},500))}})},anchoPreventDefault:function(){a('.prevent-default').on('click',function(k){k.preventDefault()})},closeButton:function(){a('.close-button').on('click',function(){var k=a(this),l=k.attr('data-ref');a('#search_popup_wrapper').hasClass('in')&&setTimeout(function(){a('body').removeClass('overflow-hidden')},500),a(l).removeClass('in')})},closestElement:function(){a(b).on('click',function(k){0==a(k.target).closest('.search-product-wrapper .categories').length&&(a('.search-product-wrapper .search-category-dropdown').slideUp(),a('.search-product-wrapper .categories > span').removeClass('in')),0==a(k.target).closest('.search-product-wrapper').length&&(a('.search-ajax-result').html(''),a('.search-product-wrapper').removeClass('in'),a('input[type="text"]','.search-product-wrapper').val(''))})},mobileNavOverlay:function(){a('.mobile-nav-overlay').on('click',function(){a('body').removeClass('mobile-nav-in'),a('.toggle-mobile-menu').removeClass('in')})},menuDropFlyPosition:function(){var k=0;a('#wpadminbar').length&&'fixed'==a('#wpadminbar').css('position')&&(k=a('#wpadminbar').outerHeight()),a('.header-mobile-nav.menu-drop-fly').css('top',k+'px')},perfectScroll:function(){var k=a('.categories .search-category-dropdown');k.perfectScrollbar({wheelSpeed:0.5,suppressScrollX:!0})}},G5Plus.footer={init:function(){}},G5Plus.widget={init:function(){this.categoryCaret()},categoryCaret:function(){a('li','.widget_categories, .widget_pages, .widget_nav_menu, .widget_product_categories, .product-categories').each(function(){0<a(' > ul',this).length&&a(this).append('<span class="li-caret fa fa-plus"></span>')}),a('.li-caret').on('click',function(){a(this).toggleClass('in'),a(' > ul',a(this).parent()).slideToggle()})}},G5Plus.onReady={init:function(){G5Plus.common.init(),G5Plus.header.init(),G5Plus.page.init(),G5Plus.blog.init(),G5Plus.woocommerce.init(),G5Plus.footer.init(),G5Plus.widget.init()}},G5Plus.onLoad={init:function(){G5Plus.header.windowLoad(),G5Plus.page.windowLoad(),G5Plus.woocommerce.windowLoad()}},G5Plus.onResize={init:function(){G5Plus.common.windowResized(),G5Plus.page.windowResized(),G5Plus.woocommerce.windowResized(),G5Plus.header.windowResized(),G5Plus.blog.windowResized()}},G5Plus.onScroll={init:function(){G5Plus.header.windowsScroll(),G5Plus.common.windowScroll()}},a(window).resize(G5Plus.onResize.init),a(window).scroll(G5Plus.onScroll.init),a(document).ready(G5Plus.onReady.init),a(window).load(G5Plus.onLoad.init)})(jQuery);